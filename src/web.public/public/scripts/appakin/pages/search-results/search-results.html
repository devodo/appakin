<div id="search-results" class="main-wrapper" ng-cloak>
    <p class="error"
       ng-show="search.results.serverError && !search.results.searchInProgress">
        There was a problem getting your search result. Please try again, or if the problem persists please try later.
    </p>
    <div class="no-error-wrapper" ng-hide="search.results.serverError">
        <p class="search-type" ng-if="search.searchType == 'category' && !search.results.initialState">Categories&nbsp;&nbsp;<a href ng-click="setSearchType('app')">Click here for App results</a></p>
        <p class="search-type" ng-if="search.searchType == 'app' && !search.results.initialState">Apps&nbsp;&nbsp;<a href ng-click="setSearchType('category')">Click here for Category results</a></p>
        <p class="warning"
           ng-show="search.results.items.length == 0 && !search.results.initialState && !search.results.searchInProgress">
            No results found.<span ng-show="search.results.suggestion"> Did you mean <a href="{{url.createSearchUrl(search.results.suggestion)}}">{{search.results.suggestion}}</a>?</span>
        </p>
        <div class="valid-results-wrapper"
             ng-if="search.results.items.length > 0"
             ng-class="search.results.searchInProgress ? 'disabled' : ''">
            <div class="list-wrapper">
                <ul ng-if="search.results.searchType === 'category'">
                    <li ng-repeat="category in search.results.items"
                        class="category-search-result">
                        <h4><a href="{{ url.createCategoryUrl(category.platform, category.url) }}">{{category.name}}</a></h4>
                        <p>
                            {{category.shortDesc}}
                        </p>
                    </li>
                </ul>
                <ul ng-if="search.results.searchType === 'app'">
                    <li ng-repeat="app in search.results.items"
                        class="app-search-result">
                        <h4><a href="{{ url.createAppUrl(app.platform, app.url) }}">{{app.name}}</a></h4>
                        <p>
                            {{app.shortDesc}}
                        </p>
                    </li>
                </ul>
            </div>
            <div class="pagination-wrapper">
                <div class="centering-wrapper">
                    <div pagination
                         ng-show="search.results.totalItems > 0" total-items="search.results.totalItems" max-size="numPages"
                         ng-model="search.results.currentPage" ng-change="pageChanged()"
                         previous-text="" next-text=""></div>
                </div>
            </div>
        </div>
    </div>
</div>